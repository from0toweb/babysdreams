!function(){function n(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}$(document).ready((function(){var e=document.querySelector("body"),t=document.querySelector(".menu-btn"),o=document.querySelector(".menu__mobile"),a=document.querySelector(".menu__nav"),i=document.querySelectorAll(".menu__link");document.querySelector(".hero__form-btn").onclick=function(n){return r(n,"Общая форма")};function r(n,e){n.preventDefault();var t=e.replace(/"/g,"");$.fancybox.open('\n      <div class="modal" style="display: none" id="modal">\n        <h2 class="title modal__title">Оставить заявку</h2>\n        <form action="send.php" method="POST" class="form modal__form">\n          <div class="input-group modal__input-group">\n            <input\n              type="text"\n              class="input form__input--hidden"\n              name="userGood"\n              id="modalUser-good"\n              value="'.concat(t,'"\n            />\n            <label for="modalUser-name" class="label form__label">Ваше имя</label>\n            <div class="input-line form__input-line">\n              <span\n                class="input-icon form__input-icon form__input-icon--first"\n              ></span>\n              <input\n                type="text"\n                class="input form__input"\n                name="userName"\n                id="modalUser-name"\n              />\n            </div>\n          </div>\n\n        <div class="input-group modal__input-group modal__user-email">\n          <label for="user-email" class="label form__label">Email</label>\n          <div class="input-line form__input-line">\n            <span\n              class="input-icon form__input-icon form__input-icon--second"\n            ></span>\n            <input\n              type="email"\n              class="input form__input"\n              name="userEmail"\n              id="user-email"\n            />\n          </div>\n        </div>\n\n        <div class="input-group modal__input-group">\n          <label for="modalUser-phone" class="label form__label">Телефон</label>\n          <div class="input-line form__input-line">\n            <span\n              class="input-icon form__input-icon form__input-icon--third"\n            ></span>\n            <input\n              type="tel"\n              class="input form__input"\n              name="userPhone"\n              id="modalUser-phone"\n            />\n          </div>\n        </div>\n\n        <button class="button button--primary modal__button">\n          Оставить заявку\n        </button>\n      </form>\n    </div>\n      ')),$("form").each((function(){$(this).validate({errorElement:"div",errorClass:"invalid-text",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:18},userEmail:{required:!0,email:!0}},messages:{userName:{required:"Заполните поле",minlength:"Имя должно быть не короче 2 букв",maxlength:"Имя должно быть не длинее 15 букв"},userPhone:{required:"Заполните поле",minlength:"Введите полный номер телефона"},userEmail:{required:"Заполните поле",email:"Введите корректный Email в формате name@domain.com"}},submitHandler:function(n){$.ajax({type:"POST",url:"send.php",data:$(n).serialize(),success:function(e){return $(n)[0].reset(),$.fancybox.close(),$.fancybox.open($("#thanks-modal")),!0}})}})}))}fetch("../data/data.json").then((function(n){return n.json()})).then((function(n){(function(n){var e=document.querySelector(".products__wrap");n.forEach((function(t){e.insertAdjacentHTML("beforeend",'\n\t\t\t    <div class="products__item">\n              <div class="card products__card">\n                  <div class="image-wrap ibg">\n                      <img\n                          src="'.concat(t.image,'"\n                          alt="продукт"\n                          class="card__image"\n                      />\n                  </div>\n                  <div class="card__block">\n                      <h3 class="card__name">').concat(t.name,'</h3>\n                      <div class="card__description">\n                         ').concat(t.description,'\n                      </div>\n                      <div class="card__buttons">\n                          <a\n                              class="button card__button button--primary form-btn"\n                              id="').concat(t.id,'"\n                              >Купить</a\n                          >\n                          <a\n                              class="button card__button button--outline more-btn"\n                              id="').concat(t.id,'"\n                              >Подробнее</a\n                          >\n                      </div>\n                  </div>\n              </div>\n          </div>\n\t\t\t'));var o=document.querySelectorAll(".more-btn");document.querySelectorAll(".form-btn").forEach((function(e){var t=e.getAttribute("id"),o=n.find((function(n){return+n.id==+t}));e.onclick=function(n){return r(n,o.name)}})),o.forEach((function(e){var t=e.getAttribute("id"),o=n.find((function(n){return+n.id==+t}));e.onclick=function(n){return function(n,e){n.preventDefault();var t,o,a=e.image,i=e.name,c=e.moreInformation,l=c.price,s=c.moreDescription,m=c.height,u=c.width,d=c.depth,p=c.material,_=c.power,f=c.time,v=(t=c.slideImages,o="",t.forEach((function(n){o+='<a href="'.concat(n,'" data-fancybox="images-more-modal"></a>')})),o);$.fancybox.open('\n      <div class="more-modal modal" style="display: none" id="more-modal">\n            <div class="more-modal__wrapper">\n                <a href="'.concat(a,'" data-fancybox="images-more-modal" class="more-modal__image-block">\n                  <div class="more-modal__photo-click">\n                    <img src="../img/click.svg" alt="Клик" class="more-modal__click-image">\n                  </div>\n                    <img src="').concat(a,'" alt="Фото товара" class="more-modal__image" />\n                </a>\n\n\n                <div style="display: none">\n                  ').concat(v,'\n                </div>\n\n                <div class="more-modal__content-block">\n                    <p class="more-modal__header">').concat(i,'</p>\n                    <span class="more-modal__price">').concat(l,'</span>\n\n                    <div class="more-modal__info">\n                      <p class="more-modal__description">').concat(s||"","</p>\n\n                      ").concat(m?'\n                         <span class="more-modal__option-title">\n                            Высота:\n                            <span class="more-modal__option-text">'.concat(m,"</span>\n                        </span>\n                      "):"","\n\n                      ").concat(u?'\n                         <span class="more-modal__option-title">\n                            Ширина:\n                            <span class="more-modal__option-text">'.concat(u,"</span>\n                        </span>\n                      "):"","\n\n                      ").concat(d?'\n                         <span class="more-modal__option-title">\n                            Глубина:\n                            <span class="more-modal__option-text">'.concat(d,"</span>\n                        </span>\n                      "):"","\n\n                      ").concat(p?'\n                         <span class="more-modal__option-title">\n                            Материал:\n                            <span class="more-modal__option-text">'.concat(p,"</span>\n                        </span>\n                      "):"","\n\n                      ").concat(_?'\n                         <span class="more-modal__option-title">\n                            Питание:\n                            <span class="more-modal__option-text">'.concat(_,"</span>\n                        </span>\n                      "):"","\n\n                      ").concat(f?'\n                         <span class="more-modal__option-title">\n                            Срок:\n                            <span class="more-modal__option-text">'.concat(f,"</span>\n                        </span>\n                      "):"",'\n\n                    </div>\n                    <button class="button button--primary modal__button more-modal__button">\n                      Оставить заявку\n                    </button>\n                </div>\n            </div>\n        </div>\n    '),{touch:!1}),document.querySelector(".more-modal__button").onclick=function(n){return function(n,e){$.fancybox.close(),r(n,e)}(n,i)}}(n,o)}}))}))})(n),$.each($(".ibg"),(function(){$(this).find("img").length>0&&$(this).css("background-image",'url("'+$(this).find("img").attr("src")+'")')})),l()}));var c=function(n){n.preventDefault(),e.classList.remove("menu-open"),o.classList.remove("menu__mobile--active"),a.classList.remove("menu__nav--active"),t.classList.remove("menu-btn_active")};function l(){$(".products__wrap").not(".slick-initialized").slick({variableWidth:!0,slidesToShow:1,infinite:!0,centerMode:!0,centerPadding:"10",arrows:!0,dots:!1,mobileFirst:!0,responsive:[{breakpoint:991,settings:"unslick"},{breakpoint:991,settings:"unslick"}]})}$(".menu-btn").on("click",(function(n){n.preventDefault(),t.classList.contains("menu-btn_active")?i.forEach((function(n){return n.removeEventListener("click",c)})):i.forEach((function(n){return n.onclick=c})),$("body").toggleClass("menu-open"),$(".menu__mobile").toggleClass("menu__mobile--active"),$(".menu__nav").toggleClass("menu__nav--active"),$(this).toggleClass("menu-btn_active")})),$(window).on("resize",l),$("[type=tel]").mask("+7 (000) 000-00-00"),function(){var e,t=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var n=o.next();return c=n.done,n},e:function(n){l=!0,r=n},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw r}}}}(document.querySelectorAll('a[href*="#"]'));try{var o=function(){var n=e.value;n.addEventListener("click",(function(e){e.preventDefault();var t=n.getAttribute("href"),o=document.querySelector(t);if(o){var a=o.offsetTop;window.scrollTo({top:a-70,behavior:"smooth"})}}))};for(t.s();!(e=t.n()).done;)o()}catch(n){t.e(n)}finally{t.f()}}()}))}();