!function(){"use strict";function n(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function e(n){var e="reviews"===n?"telegramReview.php":"telegram.php";$("[type=tel]").mask("+7 (000) 000-00-00"),$("form").each((function(){$(this).validate({errorElement:"div",errorClass:"invalid-text",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:18},userEmail:{required:!0,email:!0},reviewText:{required:!0}},messages:{userName:{required:"Заполните поле",minlength:"Имя должно быть не короче 2 букв",maxlength:"Имя должно быть не длинее 15 букв"},userPhone:{required:"Заполните поле",minlength:"Введите полный номер телефона"},userEmail:{required:"Заполните поле",email:"Введите корректный Email в формате name@domain.com"},reviewText:{required:"Заполните поле"}},submitHandler:function(t){$.ajax({type:"POST",url:e,data:$(t).serialize(),success:function(e){return $(t)[0].reset(),$.fancybox.close(),function(n){var e="reviews"===n?"#reviews__thanks-modal":"#thanks-modal";$.fancybox.open($(e))}(n),!0}})}})}))}function t(){document.querySelector(".hero__form-btn").onclick=function(e){return n(e,"Общая форма")};function n(n,t){n.preventDefault();var o=t.replace(/"/g,"");$.fancybox.open('\n      <div class="modal" style="display: none" id="modal">\n        <h2 class="title modal__title">Оставить заявку</h2>\n        <form action="telegram.php" method="POST" class="form modal__form">\n          <div class="input-group modal__input-group">\n            <input\n              type="text"\n              class="input form__input--hidden"\n              name="userGood"\n              id="modalUser-good"\n              value="'.concat(o,'"\n            />\n            <label for="modalUser-name" class="label form__label">Ваше имя</label>\n            <div class="input-line form__input-line">\n              <span\n                class="input-icon form__input-icon form__input-icon--first"\n              ></span>\n              <input\n                type="text"\n                class="input form__input"\n                name="userName"\n                id="modalUser-name"\n              />\n            </div>\n          </div>\n\n        <div class="input-group modal__input-group modal__user-email">\n          <label for="user-email" class="label form__label">Email</label>\n          <div class="input-line form__input-line">\n            <span\n              class="input-icon form__input-icon form__input-icon--second"\n            ></span>\n            <input\n              type="email"\n              class="input form__input"\n              name="userEmail"\n              id="user-email"\n            />\n          </div>\n        </div>\n\n        <div class="input-group modal__input-group">\n          <label for="modalUser-phone" class="label form__label">Телефон</label>\n          <div class="input-line form__input-line">\n            <span\n              class="input-icon form__input-icon form__input-icon--third"\n            ></span>\n            <input\n              type="tel"\n              class="input form__input"\n              name="userPhone"\n              id="modalUser-phone"\n            />\n          </div>\n        </div>\n\n        <button class="button button--primary modal__button">\n          Оставить заявку\n        </button>\n      </form>\n    </div>\n      ')),e()}function t(){$(".products__wrap").not(".slick-initialized").slick({variableWidth:!0,slidesToShow:1,infinite:!0,centerMode:!0,centerPadding:"10",arrows:!0,dots:!1,mobileFirst:!0,responsive:[{breakpoint:991,settings:"unslick"},{breakpoint:991,settings:"unslick"}]})}$(window).on("resize",t),fetch("../data/data.json").then((function(n){return n.json()})).then((function(o){var a,i,r;(function(e){var t=document.querySelector(".products__wrap");e.forEach((function(o){t.insertAdjacentHTML("beforeend",'\n\t\t\t    <div class="products__item">\n              <div class="card products__card">\n                  <div class="image-wrap ibg">\n                      <img\n                          src="'.concat(o.image,'"\n                          alt="продукт"\n                          class="card__image"\n                      />\n                  </div>\n                  <div class="card__block">\n                      <h3 class="card__name">').concat(o.name,'</h3>\n                      <div class="card__description">\n                         ').concat(o.description,'\n                      </div>\n                      <div class="card__buttons">\n                          <a\n                              class="button card__button button--primary form-btn"\n                              id="').concat(o.id,'"\n                              >Купить</a\n                          >\n                          <a\n                              class="button card__button button--outline more-btn"\n                              id="').concat(o.id,'"\n                              >Подробнее</a\n                          >\n                      </div>\n                  </div>\n              </div>\n          </div>\n\t\t\t'));var a=document.querySelectorAll(".more-btn");document.querySelectorAll(".form-btn").forEach((function(t){var o=t.getAttribute("id"),a=e.find((function(n){return+n.id==+o}));t.onclick=function(e){return n(e,a.name)}})),a.forEach((function(t){var o=t.getAttribute("id"),a=e.find((function(n){return+n.id==+o}));t.onclick=function(e){return function(e,t){e.preventDefault();var o,a,i=t.image,r=t.name,c=t.moreInformation,s=c.price,l=c.moreDescription,u=c.height,m=c.width,d=c.depth,_=c.material,p=c.power,v=c.time,f=(o=c.slideImages,a="",o.forEach((function(n){a+='<a href="'.concat(n,'" data-fancybox="images-more-modal"></a>')})),a);$.fancybox.open('\n      <div class="more-modal modal" style="display: none" id="more-modal">\n            <div class="more-modal__wrapper">\n                <a href="'.concat(i,'" data-fancybox="images-more-modal" class="more-modal__image-block">\n                  <div class="more-modal__photo-click">\n                    <img src="../img/click.svg" alt="Клик" class="more-modal__click-image">\n                  </div>\n                    <img src="').concat(i,'" alt="Фото товара" class="more-modal__image" />\n                </a>\n\n\n                <div style="display: none">\n                  ').concat(f,'\n                </div>\n\n                <div class="more-modal__content-block">\n                    <p class="more-modal__header">').concat(r,'</p>\n                    <span class="more-modal__price">').concat(s,'</span>\n\n                    <div class="more-modal__info">\n                      <p class="more-modal__description">').concat(l||"","</p>\n\n                      ").concat(u?'\n                         <span class="more-modal__option-title">\n                            Высота:\n                            <span class="more-modal__option-text">'.concat(u,"</span>\n                        </span>\n                      "):"","\n\n\n                      ").concat(m?'\n                         <span class="more-modal__option-title">\n                            Ширина:\n                            <span class="more-modal__option-text">'.concat(m,"</span>\n                        </span>\n                      "):"","\n\n                      ").concat(d?'\n                         <span class="more-modal__option-title">\n                            Глубина:\n                            <span class="more-modal__option-text">'.concat(d,"</span>\n                        </span>\n                      "):"","\n\n                      ").concat(_?'\n                         <span class="more-modal__option-title">\n                            Материал:\n                            <span class="more-modal__option-text">'.concat(_,"</span>\n                        </span>\n                      "):"","\n\n                      ").concat(p?'\n                         <span class="more-modal__option-title">\n                            Питание:\n                            <span class="more-modal__option-text">'.concat(p,"</span>\n                        </span>\n                      "):"","\n\n                      ").concat(v?'\n                         <span class="more-modal__option-title">\n                            Срок:\n                            <span class="more-modal__option-text">'.concat(v,"</span>\n                        </span>\n                      "):"",'\n\n                    </div>\n                    <button class="button button--primary modal__button more-modal__button">\n                      Оставить заявку\n                    </button>\n                </div>\n            </div>\n        </div>\n    '),{touch:!1}),document.querySelector(".more-modal__button").onclick=function(e){return function(e,t){$.fancybox.close(),n(e,t)}(e,r)}}(e,a)}}))}))})(o),$.each($(".ibg"),(function(){$(this).find("img").length>0&&$(this).css("background-image",'url("'+$(this).find("img").attr("src")+'")')})),t(),a=o,i=document.querySelector(".reviews__wrap"),r=document.querySelector(".reviews__button"),fetch("../data/reviewsData.json").then((function(n){return n.json()})).then((function(n){!function(n){n.forEach((function(n){i.insertAdjacentHTML("beforeend",'\n\t\t\t   <div class="reviews__item">\n            <div class="card reviews__card">\n              <div class="card__block">\n                <img class="reviews__image" src="'.concat(n.image,'" alt="Картинка товара">\n                <h3 class="reviews__good-name">').concat(n.goodName,'</h3>\n                <div class="reviews__description">\n                  ').concat(n.text,"\n                </div>\n              </div>\n            </div>\n         </div>\n\t\t\t"))}))}(n),$(".reviews__wrap").slick({variableWidth:!0,slidesToShow:1,infinite:!0,centerMode:!0,centerPadding:"10",arrows:!0,dots:!1,mobileFirst:!1})})),r.onclick=function(){var n;$.fancybox.open('\n      <div class="modal reviews__modal" id="modal">\n            <h2 class="title modal__title">Оставить отзыв</h2>\n            <form action="telegramReview.php" method="POST" class="form modal__form">\n                <div class="reviews__input-group">\n                    <input\n                            placeholder="Ваше имя"\n                            type="text"\n                            class="input form__input reviews__input"\n                            name="userName"\n                            id="reviewUser-name"\n                    />\n                </div>\n\n                <div class="reviews__input-group">\n                    <input\n                            placeholder="Телефон"\n                            type="tel"\n                            class="input form__input reviews__input"\n                            name="userPhone"\n                            id="reviewUser-phone"\n                    />\n                </div>\n\n                <div class="reviews__input-group">\n                    <select name="reviewGood" id="reviewGood" class="input form__input reviews__input reviews__select">\n                        '.concat((n="",a.forEach((function(e){n+="<option value='".concat(e.name,"'>").concat(e.name,"</option>")})),n),'\n                    </select>\n                    <img src="../img/click.svg" alt="клик">\n                </div>\n\n                <div class="reviews__input-group">\n                    <textarea\n                            class="reviews__text-area"\n                            placeholder="Напишите Ваш отзыв..."\n                            name="reviewText"\n                            id="reviewText"\n                            rows="8"></textarea>\n                </div>\n\n                <button class="button button--primary modal__button reviews__modal-button">\n                    Оставить отзыв\n                </button>\n            </form>\n        </div>\n    ')),e("reviews")}}))}$(document).ready((function(){var e,o,a,i,r,c;t(),function(){var e,t=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var n=o.next();return c=n.done,n},e:function(n){s=!0,r=n},f:function(){try{c||null==o.return||o.return()}finally{if(s)throw r}}}}(document.querySelectorAll('a[href*="#"]'));try{var o=function(){var n=e.value;n.addEventListener("click",(function(e){e.preventDefault();var t=n.getAttribute("href"),o=document.querySelector(t);if(o){var a=o.offsetTop;window.scrollTo({top:a-70,behavior:"smooth"})}}))};for(t.s();!(e=t.n()).done;)o()}catch(n){t.e(n)}finally{t.f()}}(),e=document.querySelector("body"),o=document.querySelector(".menu-btn"),a=document.querySelector(".menu__mobile"),i=document.querySelector(".menu__nav"),r=document.querySelectorAll(".menu__link"),c=function(n){n.preventDefault(),e.classList.remove("menu-open"),a.classList.remove("menu__mobile--active"),i.classList.remove("menu__nav--active"),o.classList.remove("menu-btn_active")},$(".menu-btn").on("click",(function(n){n.preventDefault(),o.classList.contains("menu-btn_active")?r.forEach((function(n){return n.removeEventListener("click",c)})):r.forEach((function(n){return n.onclick=c})),$("body").toggleClass("menu-open"),$(".menu__mobile").toggleClass("menu__mobile--active"),$(".menu__nav").toggleClass("menu__nav--active"),$(this).toggleClass("menu-btn_active")}))}))}();